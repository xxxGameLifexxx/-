经过军训摸鱼的一上午,我成功搞出了task1
可喜可贺,可喜可贺
下面开始汇报:
首先,我先照着给出的模板尝试了文件的输入输出(由于昨天恶补了文件与指针的相关知识,稍微理解)然后在询问下解决了读取的问题(我事先没有把图片挂到相应的文件下),之后陆续尝试了fseek,fgetc,fclose,fread等文件函数,因为是分段读取所以舍弃了fprintf,fscanf,根据CSDN上png的资料,我先大致搭建了框架:
1.先取文件指针,else输error,if(f)用fseek跳文件头
2.做一个while循环,然后取两个无标识字符数组,将长度与类型的数据读入,输出,用for循环读入输出crc,至结束再跳出
3.关闭文件,结束
但出现了几个问题
1.长度与类型,crc分别以什么形式输出?
2.如何将读入的二进制文件转化为需要的形式?
3.While以什么条件跳出?
于是我着手解决:
1.用一个输入输出的小文件以各个形式输出png,结合群里给出的output理解含义,找到输出形式,再用%s,fgetc()和<<移位转化
2.发现文件结束后继续读会出大量0,得到跳出条件
最后完善了一下,结束
